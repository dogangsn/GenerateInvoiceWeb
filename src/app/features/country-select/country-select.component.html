<div class="min-h-screen bg-background-light flex flex-col">
    <!-- Header -->
    <header class="flex items-center justify-between px-8 py-6 bg-white border-b border-slate-200">
        <div class="flex items-center gap-2 text-primary">
            <span class="material-symbols-outlined text-3xl">receipt_long</span>
            <span class="text-xl font-black tracking-tight">Fatura Uygulaması</span>
        </div>
        <nav class="flex gap-6 text-sm font-medium text-slate-600">
            <!-- <a href="#" class="hover:text-primary">Ana Sayfa</a>
            <a href="#" class="hover:text-primary">Faturalar</a>
            <a href="#" class="hover:text-primary">Yardım</a> -->
        </nav>
        <div class="flex items-center gap-4">
            <!-- Kullanıcı Giriş Yapmamışsa -->
            <ng-container *ngIf="!(user$ | async)">
                <button (click)="goToLogin()"
                    class="bg-primary text-white px-6 py-2.5 rounded-lg font-bold hover:bg-blue-700 transition-colors">
                    Giriş Yap
                </button>
            </ng-container>

            <!-- Kullanıcı Giriş Yapmışsa -->
            <ng-container *ngIf="user$ | async as user">
                <button (click)="goToDashboard()"
                    class="flex items-center gap-2 text-slate-600 hover:text-primary font-medium transition-colors">
                    <span class="material-symbols-outlined">dashboard</span>
                    Panelim
                </button>
                <div class="flex items-center gap-3 pl-4 border-l border-slate-200">
                    <img [src]="user.photoURL || 'https://ui-avatars.com/api/?name=' + (user.displayName || user.email)"
                        [alt]="user.displayName || 'Kullanıcı'"
                        class="w-9 h-9 rounded-full object-cover border-2 border-slate-200" />
                    <span class="text-sm font-medium text-slate-700 hidden md:block">{{ user.displayName || user.email }}</span>
                    <button (click)="logout()" title="Çıkış Yap"
                        class="p-2 text-slate-500 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors">
                        <span class="material-symbols-outlined text-xl">logout</span>
                    </button>
                </div>
            </ng-container>
        </div>
    </header>

    <!-- Content -->
    <main class="flex-1 flex flex-col items-center justify-center p-8">
        <div class="text-center mb-12">
            <h1 class="text-4xl font-black text-slate-900 mb-4">İşlem Yapılacak Ülkeyi Seçiniz</h1>
            <p class="text-slate-500 text-lg">Oluşturulacak fatura, seçtiğiniz ülkenin vergi ve format kurallarına uygun
                olacaktır.</p>
        </div>

        <div class="w-full max-w-6xl">
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-6">
                <button *ngFor="let country of countries" (click)="selectCountry(country)"
                    class="group flex flex-col items-center p-6 bg-white rounded-2xl border border-slate-200 hover:border-primary hover:shadow-lg hover:-translate-y-1 transition-all duration-300">
                    <div
                        class="w-16 h-16 mb-3 flex items-center justify-center text-5xl shadow-sm rounded-full bg-slate-50 group-hover:scale-110 transition-transform">
                        {{ country.flag }}
                    </div>
                    <span class="font-bold text-slate-700 group-hover:text-primary text-center">{{ country.name }}</span>
                    
                    <!-- Vergi ve Para Birimi Bilgisi -->
                    <div class="mt-3 pt-3 border-t border-slate-100 w-full text-center space-y-1">
                        <div class="flex items-center justify-center gap-1 text-xs text-slate-500">
                            <span class="material-symbols-outlined text-sm">payments</span>
                            <span class="font-medium">{{ country.currency.code }}</span>
                            <span class="text-slate-400">({{ country.currency.symbol }})</span>
                        </div>
                        <div class="flex items-center justify-center gap-1 text-xs text-slate-500">
                            <span class="material-symbols-outlined text-sm">percent</span>
                            <span>{{ getDefaultTax(country).name }}</span>
                            <span class="font-semibold text-primary">%{{ getDefaultTax(country).rate }}</span>
                        </div>
                    </div>
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="py-8 text-center text-sm text-slate-500 border-t border-slate-200 bg-white">
        <div class="flex justify-center gap-6 mb-4">
            <a href="#" class="hover:text-slate-900">Gizlilik Politikası</a>
            <a href="#" class="hover:text-slate-900">Kullanım Koşulları</a>
            <a href="#" class="hover:text-slate-900">Yardım</a>
        </div>
        <p>© Fatura Uygulaması 2024</p>
    </footer>
</div>